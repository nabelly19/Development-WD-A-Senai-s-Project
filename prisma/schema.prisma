
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url = env("DATABASE_URL")
}

model Company {
  companyID         Int        @id @default(autoincrement())
  companyName       String
  companyCNPJ       String     @db.VarChar(14)
  companyCEP        String     @db.VarChar(8)
  companyStreet     String     @db.VarChar(255)
  companyCity       String     @db.VarChar(100)
  companyState      String     @db.VarChar(100)
  companyCountry    String     @db.VarChar(100)
  companyFilial     Boolean    @default(false)
  companyDateOpened DateTime
  createdAt         DateTime   @default(now()) @map("createdAt")
  updatedAt         DateTime   @default(now()) @map("updatedAt")

  TrainingData      TrainingData[]
  Decision          Decision[]
}

model TrainingData {
  id         Int      @id @default(autoincrement())
  companyID  Int
  allData    String
  labels     String
  createdAt  DateTime @default(now()) @map("createdAt")
  
  Company    Company  @relation(fields: [companyID], references: [companyID])
}

model MLModel {
  id             Int      @id @default(autoincrement())
  modelParameters String
  createdAt      DateTime @default(now()) @map("createdAt")
}

model Decision {
  id        Int      @id @default(autoincrement())
  companyID Int
  reason    String
  createdAt DateTime @default(now()) @map("createdAt")
  
  Company   Company  @relation(fields: [companyID], references: [companyID])
}